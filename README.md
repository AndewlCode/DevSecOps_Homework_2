## Задача
Предположим, что мы хотим поднять самодельный простейший honeypot, который эмулировал бы работу веб-сервера.
Для каждого IP подключившегося клиента будем получать информацию от сервиса whois чтобы собирать какую-то статистику.

## Минимальные требования:
В ubuntu-22.04.5 server из коробки не оказалось whois, поэтому ставим его командой:
> sudo apt install whois


При помощи python3 поднимем простейший http сервер, в котором по-дефолту будет использоваться порт 8000:
> python3 -m http.server


Копируем скрипт в каталог /opt/checker и делаем скрипт исполняемым 
> chmod +x whois_online_checker.sh

Запускаем:
> ./whois_online_checker.sh


## Как всё работает: 

Скрипт с использованием встроенной утилиты netstat получает информацию о текущих соединениях, далее при помощи grep осуществляется фильтация коннектов по порту 8000, на котором работает сервер. Команда awk выводит на печать в терминал 5й столбец, в которм содержится информация об IP адресе клиента и номере порта. Команда cut отделяет по символу "двоетичие" IP адрес и номер порта. Полученный результат записывается в переменную connections.

Если активных коннектов нет, то в файл /tmp/whois_checker запишется соответствующее сообщение.

Если активные соединения есть, то для каждого из IP источника скрипт выполнит команду whois и допишет результат в файл /tmp/whois_checker

Историю подключений к honeypot-у можно посмотреть командой:
> cat /tmp/whois_checker